<!DOCTYPE html>
<html lang="en">
<head>
  <title>SWIFT MT-300 Messages</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.css">
  <link rel="stylesheet" href="https://cdn.datatables.net/1.10.19/css/dataTables.bootstrap4.min.css">
  <link rel="stylesheet" href="https://cdn.datatables.net/fixedheader/3.1.5/css/fixedHeader.bootstrap4.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
  <script src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
  <script src="https://cdn.datatables.net/1.10.19/js/dataTables.bootstrap4.min.js"></script>
  <script src="https://cdn.datatables.net/fixedheader/3.1.5/js/dataTables.fixedHeader.min.js"></script>

</head>
<body>
<nav class="navbar navbar-expand-sm bg-success navbar-dark">
	<a class="navbar-brand" href="#" style="font-weight:bold;">Swift MT-300 Messages</a>
</nav>
<br/>
<div class="container-fluid">
  <h4>Dashboard</h4>
  </div>
  
<br/>
<div class="row">
  <div class="col">
  <div class="card">
    <div class="card-header" style="font-weight:bold;">Auto matched messages</div>
    <div class="card-body"><table id="example" class="table table-striped table-bordered" style="width:100%">
        <thead>
            <tr>
                <th>Document</th>
                <th>Party&nbsp;A</th>
                <th>Party&nbsp;B</th>
                <th>Exchange&nbsp;Rate</th>
                <th>Buy</th>
                <th>Sell</th>
            </tr>
        </thead>
        <tbody id="matchedTbody">
        </tbody>
        
    </table></div> 
    
  </div>
  </div>
  <div class="col"></div>
  
</div>


 
  <script>
  $(document).ready(function() {
	 
		  $.ajax({url: "http://localhost:8080/messages", success: function(result){
		    	var constrctRowHTML = "";
		    	for(var i = 0; i < result.length; i++) {
		    	    var obj = result[i];
		    	    constrctRowHTML+="<tr><td>"+obj.transactionA+"</td><td>"+obj.partyA+"</td><td>"+obj.partyB+"</td><td>"+obj.exchangeRate+"</td><td style='color:blue;'>"+obj.weBuy+"</td><td style='color:green;'>"+obj.weSell+"</td></tr>";
		    	}
		    	
		    	$("#matchedTbody").html(constrctRowHTML);
		    	
		    	   var table = $('#example').DataTable( {
		   	        fixedHeader: true
		   	    } );
		  }});

		  
	} );
  
  
  
  
  </script>
</body>
</html>
